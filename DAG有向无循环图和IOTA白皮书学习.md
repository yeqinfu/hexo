---
title: DAG有向无循环图和IOTA白皮书学习
date: 2018-09-25 14:00:58
tags: block chain
---



比特币的交易没有分叉，只有一条主链。而采用有向不循环图DAG的IOTA却蛮有意思的

![image](http://wx3.sinaimg.cn/large/c1b251b3gy1fvlu563bnej20kg04874s.jpg)

它类似如上图所示，每个块就是有且只有一笔交易，交易不是链式，而是有向图。但是整体来说也可以是说链式一样的走向。

并且没有旷工，钱包发起交易时，必须先计算网络中的两笔交易。而计算两笔交易的方法采用pow的方式，也就是产生的哈希具有一定的难度值，而这个难度值是根据每个块的累计权重成正相关的。

所以，钱包为了更快提交交易，会自动选择难度值低的，而新提交的交易就是难度值最低的。所以不必担心新的交易不会被打包，而执意打包旧的交易，难度值会很高。

#### [阅读白皮书](https://www.iotachina.com/wp-content/uploads/2016/11/2016112902003453.pdf)

[英文白皮书](http://iotatoken.com/IOTA_Whitepaper.pdf)

![image](http://wx1.sinaimg.cn/large/c1b251b3gy1fvlucwyrtfj20tm0lmq5s.jpg)



**交易高度** ：指的是从创世块到当前块的最长链长

**交易深度** ： 指的是最新区块到当前区块的最长链长

#### 累积权重

如上图F块的交易**累计权重**是F的后代权重和 A+B+C+E+F=1+3+1+1+3=9

如果新增一个X交易，看下半部分图，会选中两个末端交易，也就是没有被确认过的交易，权重会重新计算。所以深度就是交易确认数量。











